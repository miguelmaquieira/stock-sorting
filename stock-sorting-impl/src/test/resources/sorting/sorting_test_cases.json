[
    {
        "name": "should_sort_by_sales_and_stock_asc_1",
        "input": [
            {
                "id": 1,
                "name": "A",
                "sales": 100,
                "stock": { "S": 20, "M": 10, "L": 0 }
            },
            {
                "id": 2,
                "name": "B",
                "sales": 80,
                "stock": { "S": 10, "M": 2, "L": 30 }
            }
        ],
        "criteria": {
            "rules": [
                {
                    "type": "sales",
                    "weight": 0.5
                },
                {
                    "type": "stock",
                    "weight": 0.5
                }
            ],
            "ascending": true
        },
        "expected": [1, 2]
    },
    {
        "name": "should_sort_by_sales_and_stock_asc_2",
        "input": [
            {
                "id": 1,
                "name": "A",
                "sales": 100,
                "stock": { "S": 20, "M": 10, "L": 0 }
            },
            {
                "id": 2,
                "name": "B",
                "sales": 80,
                "stock": { "S": 10, "M": 2, "L": 30 }
            },
            {
                "id": 3,
                "name": "C",
                "sales": 80,
                "stock": { "S": 10, "M": 0, "L": 30 }
            }
        ],
        "criteria": {
            "rules": [
                {
                    "type": "sales",
                    "weight": 0.2
                },
                {
                    "type": "stock",
                    "weight": 0.8
                }
            ],
            "ascending": true
        },
        "expected": [1, 3, 2]
    },
    {
        "name": "should_sort_by_sales_and_stock_asc_3",
        "input": [
            {
                "id": 1,
                "name": "A",
                "sales": 200,
                "stock": { "S": 20, "M": 10, "L": 0 }
            },
            {
                "id": 2,
                "name": "B",
                "sales": 80,
                "stock": { "S": 10, "M": 2, "L": 30 }
            },
            {
                "id": 3,
                "name": "C",
                "sales": 80,
                "stock": { "S": 10, "M": 0, "L": 30 }
            }
        ],
        "criteria": {
            "rules": [
                {
                    "type": "sales",
                    "weight": 0.9
                },
                {
                    "type": "stock",
                    "weight": 0.1
                }
            ],
            "ascending": true
        },
        "expected": [3, 2, 1]
    },
    {
        "name": "should_sort_by_sales_and_stock_non_existing_size_asc",
        "input": [
            {
                "id": 1,
                "name": "A",
                "sales": 200,
                "stock": { "S": 20, "M": 10, "L": 0 }
            },
            {
                "id": 2,
                "name": "B",
                "sales": 80,
                "stock": { "S": 10, "M": 2, "L": 30 }
            },
            {
                "id": 3,
                "name": "C",
                "sales": 80,
                "stock": { "S": 10, "M": 0, "L": 30 }
            },
            {
                "id": 4,
                "name": "D",
                "sales": 80,
                "stock": { "S": 10, "M": 0, "L": 0, "XL": 10 }
            }
        ],
        "criteria": {
            "rules": [
                {
                    "type": "sales",
                    "weight": 0.9
                },
                {
                    "type": "stock",
                    "weight": 0.1
                }
            ],
            "ascending": true
        },
        "expected": [4, 3, 2, 1]
    },
    {
        "name": "should_sort_by_sales_and_stock_compute_stock_desc",
        "input": [
            {
                "id": 1,
                "name": "A",
                "sales": 100,
                "stock": { "S": 20, "M": 10, "L": 0 }
            },
            {
                "id": 2,
                "name": "B",
                "sales": 150,
                "stock": { "S": 10, "M": 2, "L": 30 }
            }
        ],
        "criteria": {
            "rules": [
                {
                    "type": "sales",
                    "weight": 0.5
                },
                {
                    "type": "stock",
                    "weight": 0.5,
                    "sizeWeights": {
                        "S": 0.2,
                        "M": 0.5,
                        "L": 0.3
                    },
                    "computeStockSize": true
                }
            ],
            "ascending": false
        },
        "expected": [2, 1]
    },
    {
        "name": "should_sort_by_sales_and_stock_compute_stock_asc",
        "input": [
            {
                "id": 1,
                "name": "A",
                "sales": 100,
                "stock": { "S": 20, "M": 10, "L": 0 }
            },
            {
                "id": 2,
                "name": "B",
                "sales": 150,
                "stock": { "S": 10, "M": 2, "L": 30 }
            }
        ],
        "criteria": {
            "rules": [
                {
                    "type": "sales",
                    "weight": 0.5
                },
                {
                    "type": "stock",
                    "weight": 0.5,
                    "sizeWeights": {
                        "S": 0.2,
                        "M": 0.5,
                        "L": 0.3
                    },
                    "computeStockSize": true
                }
            ],
            "ascending": true
        },
        "expected": [1, 2]
    }
]
